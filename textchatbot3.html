<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Kaori Miyazono + Chatbot</title>
    <link rel="stylesheet" href="Kaori Miyazono copy.css">

    <!-- Chatbot styles -->
    <style>
        /* Hide scrollbar in WebKit browsers (Chrome, Safari) */
        #messages::-webkit-scrollbar {
            display: none;
        }

        /* Hide scrollbar in Firefox */
        #messages {
            scrollbar-width: none; /* Firefox */
        }

        /* Hide scrollbar in IE and Edge */
        #messages {
            -ms-overflow-style: none; /* IE and Edge */
        }
        /* Only for chatbot elements */
        .messages-logo { 
            position: fixed; 
            bottom: 10px; 
            right: 10px; 
            width: 50px; 
            height: 50px; 
            background: #0000FF; 
            border-radius: 50%; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            cursor: pointer; 
            box-shadow: 0 8px 15px rgba(0,0,0,0.2); 
            transition: transform 0.3s ease; 
        }
        .messages-logo.active { 
            transform: scale(1.5); 
        }
        .speech-bubble { 
            position: relative; 
            width: 30px; height: 30px; 
            background: white; 
            border-radius: 50%; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); 
        }
        .speech-bubble::after { 
            content: ''; 
            position: absolute; 
            bottom: -6px; 
            left: 30%; 
            width: 8px; 
            height: 8px; 
            background: white; 
            clip-path: polygon(0 0, 100% 0, 0 100%); 
        }
        .speech-bubble2 { 
            position: absolute; 
            width: 25px; height: 25px; 
            background: #0000FF; 
            border-radius: 50%; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); 
        }
        .speech-bubble2::after { 
            content: ''; 
            position: absolute; 
            bottom: -5px; left: 32%; 
            width: 6px; height: 8px; 
            background: #0000FF; 
            clip-path: polygon(0 0, 100% 0, 0 100%); 
        }
        .question-mark-logo { 
            position: absolute; 
            bottom: 16px; right: 15px; 
            width: 20px; height: 20px; 
            background-color: #0000FF; 
            border-radius: 50%; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            color: white; 
            font-size: 16px; 
            font-weight: bold; 
        }
        #chatbox { 
            display: none; 
            position: fixed; 
            bottom: 80px; 
            right: 10px; 
            width: 350px; 
            height: 500px;
            background: #fff; 
            border-radius: 10px; 
            box-shadow: 0 0 20px rgba(0,0,0,0.1); 
            padding: 20px; flex-direction: column; 
            opacity: 0; transition: opacity 0.5s ease; 
        }
        #messages { 
            flex-grow: 1; 
            margin-bottom: 20px; 
            padding-right: 10px; 
            overflow-y: auto; 
        }
        #messages div { 
            font-size: 16px; 
            margin-bottom: 10px; 
            padding: 10px; 
            border-radius: 15px; 
            max-width: 80%; 
            word-wrap: break-word; 
            line-height: 1.5; 
        }
        #messages .userMessage { 
            background: #007BFF; 
            color: white; 
            align-self: flex-end; 
        }
        #messages .botMessage { 
            background: #444; 
            color: white; 
            align-self: flex-start; 
        }
        #userInput { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 5px; 
            border-radius: 15px; 
            border: 2px solid #007BFF; 
            background: white; 
        }
        #userInput input { 
            flex-grow: 1; 
            padding: 12px 15px; 
            font-size: 16px; 
            border: none; 
            outline: none; 
            background: white; 
            color: #333; 
        }
        #userInput button { 
            padding: 12px 15px; 
            font-size: 16px; 
            background-color: #007BFF; 
            color: white; 
            border: none; 
            border-radius: 12px; 
            cursor: pointer; 
            transition: all 0.3s ease; 
        }
        #userInput button:hover { 
            background-color: #0056b3; 
            transform: scale(1.1); 
        }
    </style>
</head>
<body>

<!-- Kaori Content -->
<div class="containerkedua">
    <h1 class="first">Kaori Miyazono</h1>
    <ul>
        <li><a href="#">Home</a></li>
        <li><a href="#">About us</a></li>
    </ul>
    <p class="second">Whether you’re sad, you’re a mess, or you’ve hit .</p>
    <p class="third">rock bottom, you still have TO PLAY! That’s</p>
    <p class="fourd">people like us survive!</p>
    <div class="five">~Kaori Miyazono</div>
    <div class="six">Kaori Miyazono (宮園 かをり Miyazono Kaori?)</div>
    <div class="seven">is the main female protagonist of Shigatsu wa Kimi no Uso.</div>
    <div class="eight">She was the only daughter of Ryouko Miyazono and</div>
    <div class="nine">Yoshiyuki Miyazono who was a free-spirited,</div>
    <div class="ten">gifted violinist whose playing style reflected on</div>
    <div class="eleven">her wonderful personality.</div>

    <div class="containerpertama">
        <h1 class="twelve">Kaori Miyazono</h1>
        <img src="../Image/Kaori Miyazono.png" alt="Kaori Miyazono">
        <p class="thirteen">宮園 かをり</p>
        <p class="fourteen">Miyazono Kaori</p>
    </div>
</div>

<!-- Chatbot Floating Icon -->
<div class="messages-logo" onclick="toggleChat()">
    <div class="speech-bubble"></div>
    <div class="speech-bubble2"></div>
    <div class="question-mark-logo">?</div>
</div>

<!-- Chatbot Box -->
<div id="chatbox">
    <div id="messages"></div>
    <div id="userInput">
        <button class="close-button" onclick="toggleChat()">✖</button>
        <input type="text" id="userMessage" placeholder="Type a message...">
        <button onclick="sendMessage()">Send</button>
    </div>
</div>

<!-- Chatbot Script -->
<script>

    function toggleChat() {
        const chatbox = document.getElementById("chatbox");
        const isVisible = chatbox.style.display === "flex";
        if (isVisible) {
            chatbox.style.opacity = 0;
            setTimeout(() => { chatbox.style.display = "none"; }, 500);
        } else {
            chatbox.style.display = "flex";
            setTimeout(() => { chatbox.style.opacity = 1; }, 10);
        }
    }

    function sendMessage() {
        const userMessage = document.getElementById("userMessage").value;
        if (userMessage) {
            addMessageToChat("You: " + userMessage);
            document.getElementById("userMessage").value = "";
            showTypingIndicator();

            setTimeout(async () => {
                const response = await getResponse(userMessage);
                addMessageToChat("Bot: " + response);
                removeTypingIndicator();
            }, 1000);
        }
    }

    function addMessageToChat(message) {
        const messagesDiv = document.getElementById("messages");
        const messageElement = document.createElement("div");
        messageElement.className = message.startsWith("You:") ? "userMessage" : "botMessage";
        messageElement.textContent = message;
        messagesDiv.appendChild(messageElement);
        messagesDiv.scrollTop = messagesDiv.scrollHeight;
    }

    function showTypingIndicator() {
        const messagesDiv = document.getElementById("messages");
        const typingIndicator = document.createElement("div");
        typingIndicator.id = "typingIndicator";
        typingIndicator.textContent = "Bot is typing...";
        typingIndicator.style.fontStyle = "italic";
        messagesDiv.appendChild(typingIndicator);
        messagesDiv.scrollTop = messagesDiv.scrollHeight;
    }

    function removeTypingIndicator() {
        const typingIndicator = document.getElementById("typingIndicator");
        if (typingIndicator) typingIndicator.remove();
    }

    async function getResponse(userMessage) {
        const simpleResponses = {
            "hi": "Hello! How can I assist you today?",
            "help": "Sure! How can I help you?",
            "order": "Please provide your order number to track it.",
            "hey": "Hello! How can I assist you today?",
            "hello": "Hello! How can I assist you today?",
            "i don't know": "No worries! If you have any questions, just let me know."
        };
        const response = simpleResponses[userMessage.toLowerCase()];
        return response || "I'm sorry, I don't understand yet.";
    }

    window.onload = () => {
        addMessageToChat("Bot: Hello! How can I assist you today?");
    }
</script>

</body>
</html>
